# 视频截图 Chrome 扩展程序 - 版本历史

## 版本 1.0.7
- 彻底修复在检测视频结束后仍然继续查找iframe的问题
- 在detectVideos和detectVideosInIframes函数中添加检测状态判断
- 改进了startPeriodicIframeCheck函数，在检测停止时不启动新的定时器
- 修复了消息监听器中的未使用参数警告

## 版本 1.0.5
- 修改content.js的加载机制，避免在打开配置页面时自动加载
- 使用web_accessible_resources替代content_scripts，只在需要时才注入content.js
- 改进了检测视频按钮的点击事件，先检查content.js是否已注入
- 使用立即执行函数包裹content.js代码，避免全局变量污染
- 添加ping消息处理，用于检查content.js是否已注入

## 版本 1.0.4
- 修复检测视频后内容脚本中的持续检测机制没有正确停止的问题
- 改进了检测视频和停止检测的消息处理
- 添加了对 'stopDetection' 消息的处理，确保检测过程可以正确停止
- 添加了检测计数器，更准确地跟踪检测进度

## 版本 1.0.3
- 修复 "Receiving end does not exist" 通信错误
- 修复 "Cannot access a chrome-extension:// URL of different extension" 错误
- 改进错误处理机制，提供更好的用户反馈
- 添加对扩展页面的检测，避免在扩展页面上尝试使用不支持的功能
- 添加 "tabs" 权限，确保扩展程序能够访问标签页信息

## 版本 1.0.2
- 修复控制面板停止按钮后配置页面开始按钮不恢复可点击状态的问题
- 修复切换到不同网址后检测视频按钮不恢复的问题
- 改进通信机制，确保状态一致性
- 添加更多日志输出，便于调试

## 版本 1.0.1
- 修复检测视频后开始截图按钮不能点击的问题
- 优化状态同步机制
- 添加版本号显示

## 版本 1.0.0
- 初始版本发布
- 实现基本的视频截图功能
- 添加控制面板
- 支持重复图片检测
- 支持自动停止功能
